<!--
  ~ Date:2022/1/9 18:36 17
  ~ Name:京东登录.html
  ~ Path:Web代码/src/com/charlatan/homework/1月/9号【周日】
  ~ ProjectName:WWW
  ~ Author:charlatan
  ~
  ~  Il n'ya qu'un héroïsme au monde : c'est de voir le monde tel qu'il est et de l'aimer.
  -->
<!DOCTYPE html>
<html lang="en" xmlns="">
<head>
	<meta charset="UTF-8">
	<title>京东登录</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			list-style: none;
			font-size: 15px;
			text-decoration: none;
		}
		
		li {
			cursor: pointer;
			position: relative;
		}
		
		/*-------以上为默认设置（The above is the default setting）--------*/
		
		#bigBox {
			width: 350px;
			height: 450px;
			background-color: white;
			position: absolute;
			top: 200px;
			right: 200px;
		}
		
		#top {
			width: 290px;
			height: 30px;
			background: #fff8f0 url("file/exclamation-mark.png") no-repeat 40px 8px;
			background-size: 14px;
			font: 12px/30px "华文仿宋";
			color: #999caa;
			padding-left: 60px;
			position: relative;
			
		}
		
		#center {
			width: 100%;
			height: 60px;
			background-color: white;
			position: relative;
			z-index: 4;
		}
		
		#center-left {
			position: absolute;
			right: 200px;
			cursor: pointer;
		}
		
		#center-right {
			position: absolute;
			left: 200px;
			cursor: pointer;
		}
		
		.center-top {
			color: #666666;
			font: 400 20px/60px "";
		}
		
		.center-top-switch {
			color: #e4393c;
			font: 600 20px/60px "";
		}
		
		#center-body {
			width: 100%;
			height: 270px;
			position: relative;
			background-color: white;
			top: 60px;

		}
		
		#center-body-left {
			position: absolute;
			width: 100%;
			height: 250px;
			background-color: white;
		}
		
		#center-body-left-img-div {
			position: absolute;
			top: 40px;
			cursor: pointer;
			width: 100%;
			left: 0;
			background-color: white;
		}
		
		#center-body-left-img-1 {
			position: relative;
			left: 100px;
			transition: left .4s ease-in-out;
			z-index: 2;
			height: 100%;
			
		}
		
		#center-body-left-img-2 {
			height: 145px;
			position: absolute;
			z-index: 1;
			left: 100px;
			transition: left .5s ease-in-out;
			
		}
		
		#center-body-left-img-div:hover #center-body-left-img-1 {
			left: 10px;
		}
		
		#center-body-left-img-div:hover #center-body-left-img-2 {
			left: 220px;
		}
		
		#show-title {
			position: absolute;
			top: 220px;
			left: 100px;
			font: 13px "华文仿宋";
		}
		
		#show-title-red {
			font: 13px "华文仿宋";
			color: #e83975;
			margin-right: 10px;
		}
		
		
		/* 	--------------------------- */
		#center-body-right {
			width: 100%;
			height: 250px;
			background-color: white;
			position: absolute;
			display: none;
		}
		
		
		#center-body-right-username {
			width: 270px;
			height: 40px;
			background-color: white;
			overflow: hidden;
			position: absolute;
			left: 50px;
			top: 40px;
		}
		
		#center-body-right-username-img-div {
			width: 38px;
			height: 38px;
			overflow: hidden;
			border: 1px solid;
		}
		
		#center-body-right-username-img {
			top: 0;
			/* top: -96px; */
			position: relative;
		}
		
		#center-body-right-username-input {
			position: absolute;
			top: 0;
			height: 36px;
			left: 39px;
			outline: none;
			width: 217px;
			padding-left: 10px;
			font: 15px/36px "华文仿宋";
		}
		
		#center-body-right-username-input::placeholder {
			font: 13px/36px "华文仿宋";
			padding-left: 10px;
		}
		
		#center-body-right-password {
			width: 270px;
			height: 40px;
			background-color: white;
			overflow: hidden;
			position: absolute;
			top: 110px;
			left: 50px;
		}
		
		#center-body-right-password-img-div {
			width: 38px;
			height: 38px;
			/* overflow: hidden; */
			border: 1px solid;
		}
		
		#center-body-right-password-img {
			position: relative;
			/* top: -96px; */
			top: 0;
			left: -48px;
		}
		
		#center-body-right-username-hint {
			position: absolute;
			top: 80px;
			left: 50px;
			font: 13px "华文仿宋";
			color: #ffbb62;
		}
		
		#center-body-right-password-input {
			position: absolute;
			top: 0;
			height: 36px;
			left: 39px;
			outline: none;
			width: 217px;
			padding-left: 10px;
			font: 15px/36px "华文仿宋";
			user-select: none;
		}
		
		#center-body-right-password-input::placeholder {
			font: 13px/36px "华文仿宋";
			padding-left: 10px;
		}
		
		#center-body-right-password-eye {
			width: 38px;
			height: 38px;
			position: absolute;
			background: white url("file/close-eye.png") no-repeat 10px;
			background-size: 23px;
			right: 10px;
			top: 1px;
			transition: all .1s ease-in-out;
			cursor: pointer;
		}
		
		#center-body-right-password-hint-span {
			width: 0;
			height: 0;
			background-color: rgba(9, 7, 7, 0.77);
			position: relative;
			font: 400 11px/16px "华文仿宋";
			color: white;
			border-radius: 4px;
			top: 22px;
			left: 12px;
			user-select: none;
			transition: width .4s ease-in-out, padding-left .2s, height .4s .4s ease-in-out, padding-top .2s .4s;
		}
		
		#center-body-right-password-hint-span > div:nth-child(-n+4) {
			display: flex;
			flex-wrap: nowrap;
			width: 100%;
		}
		
		.center-body-right-password-span {
			width: 290px;
			height: 17px;
			overflow: hidden;
		}

		.hint-span-1 {
			overflow: hidden;
		}

		#center-body-right-password-hin-span-san {
			display: none;
			position: absolute;
			border-top: 9px solid rgba(9, 7, 7, 0.77);
			border-left: 9px solid transparent;
			border-right: 9px solid transparent;
			bottom: -9px;
			right: 10px;
		}
		
		
		#center-body-right-password-hint {
			width: 180px;
			height: 10px;
			background-color: white;
			position: absolute;
			top: 155px;
			left: 60px;
			border-radius: 50px 50px 50px 50px;
			border: 2px solid #d9d9d9;
			display: none;
		}
		
		#center-body-right-password-hint-w {
			width: 55px;
			height: 6px;
			position: absolute;
			background-color: #ff6666;
			top: 2px;
			left: 3px;
			border-radius: 50px 0 0 50px;
		}
		
		#center-body-right-password-hint-m {
			width: 55px;
			height: 6px;
			position: absolute;
			background-color: #ff9c54;
			top: 2px;
			left: 62px;
			display: none;
		}
		
		#center-body-right-password-hint-p {
			width: 55px;
			height: 6px;
			position: absolute;
			background-color: #4aff72;
			top: 2px;
			left: 121px;
			border-radius: 0 50px 50px 0;
			display: none;
		}
		
		
		#center-body-right-login {
			width: 230px;
			height: 50px;
			background-color: #ee5f5f;
			font: 600 20px/50px "";
			letter-spacing: 20px;
			padding-left: 20px;
			text-align: center;
			position: absolute;
			top: 180px;
			left: 60px;
			color: white;
			cursor: pointer;
		}

		li {
			cursor: pointer;
		}

		#box {
			width: 400px;
			height: 300px;
			background-color: white;
			position: absolute;
			top: 20px;
			left: -20px;
			border-radius: 10px;
		}

		#img-div-1 {
			width: 300px;
			height: 116px;
			background-color: grey;
			position: absolute;
			left: 0;
			right: 0;
			margin: auto;
			border-radius: 5px;
			overflow: hidden;
		}

		#img-1 {
			width: 100%;
		}

		#img-div-2 {
			position: absolute;
			width: 55px;
			height: 55px;
			top: 50px;
			/* left: 153px; */
			left: 0;
			margin-left: 20px;
			margin-right: 20px;
		}

		#img-2 {
			width: 80%;
		}

		#slide-div {
			width: 350px;
			height: 50px;
			/* background-color: #00ff51; */
			position: absolute;
			top: 140px;
			left: 0;
			right: 0;
			margin: auto;
			/*overflow: hidden;*/
		}

		#slide-body {
			width: 310px;
			height: 40px;
			background-color: #b0f3c4;
			z-index: 5;
			position: absolute;
			box-sizing: border-box;
			border: solid 4px #dde3ff;
			border-left: none;
			border-right: none;
			line-height: 32px;
			text-align: center;
			color: #3b8fea;
			font-weight: 700;
			font-size: 1.2em;
			left: 10px;
			right: 0;
			margin: auto;
			top: 5px;
			user-select: none;
		}

		#slide-left {
			width: 32px;
			height: 32px;
			background-color: #b0f3c4;
			position: absolute;
			left: 10px;
			border-radius: 50%;
			z-index: 2;
			border: solid 4px #dde3ff;
			top: 5px;
		}

		#slide-right {
			width: 32px;
			height: 32px;
			background-color: #b0f3c4;
			position: absolute;
			right: -5px;
			top: 5px;
			border-radius: 50%;
			z-index: 2;
			border: solid 4px #dde3ff;
		}

		.slide-div-slide {
			width: 0;
			height: 40px;
			background-color: transparent;
			position: absolute;
			z-index: 10;
			left: 30px;
			top: 5px;
		}

		.div-body {
			width: 100%;
			height: 40px;
			background-color: #bce8f1;
			position: absolute;
			user-select: none;
			transition: all .5s;
		}

		.div-left {
			width: 40px;
			height: 40px;
			background-color: #bce8f1;
			border-radius: 50%;
			position: absolute;
			left: -25px;
			transition: all .5s;
		}

		.img-slide {
			position: absolute;
			top: -5px;
			right: -20px;
			cursor: pointer;
			/*pointer-events: none;*/
			/*user-select: none;*/
		}

		@keyframes error {
			0% {
				transform: translateX(-10px);
			}
			50% {
				transform: translateX(15px);
			}
			100% {
				transform: translateX(0px);
			}
		}

		.img-error {
			background-color: #ff6a00;
		}

		.error {
			animation: error .5s ease-out;
		}

		#show {
			width: 100px;
			height: 50px;
			/*background-color: red;*/
			border: 1px solid;

		}

		#sink {
			display: none;
		}
	</style>
</head>
<body>
<div id="bigBox">
	<div id="top">
		京东不会以任何理由要求您转账汇款。谨防诈骗。
	</div>
	<div id="center">
		<div class="center-top-switch center-top" id="center-left">
			扫把登录
		</div>
		<div class="center-top" id="center-right">
			账户登录
		</div>
		<div id="center-body">
			<div id="center-body-left">
				<div id="center-body-left-img-div">
					<img alt="" id="center-body-left-img-1" src="file/QR.png">
					<img alt="" id="center-body-left-img-2" src="file/phone-orange.png">
				</div>
				<span id="show-title">
							打开
								<span id="show-title-red">
									手机京东
								</span>
							扫描二维码
						</span>
			</div>

			<div id="center-body-right">

				<div id="center-body-right-username">
					<label for="center-body-right-username-input">
						<div id="center-body-right-username-img-div">
							<img alt="" id="center-body-right-username-img" src="file/js-icon.png">
						</div>
						<input id="center-body-right-username-input" name="username" placeholder="邮箱/用户名/登录手机"
						       type="text">
					</label>
				</div>

				<span id="center-body-right-username-hint">
					*默认名字为 admin
				</span>

				<div id="center-body-right-password">
					<label for="center-body-right-password-input">
						<div id="center-body-right-password-img-div">
							<img alt="" id="center-body-right-password-img" src="file/js-icon.png">
						</div>
						<input id="center-body-right-password-input" name="username" placeholder="密码" type="password">
						<div id="center-body-right-password-eye"></div>
					</label>
				</div>

				<div id="center-body-right-password-hint-span">
					<div id="center-body-right-password-hint-span-1">
						<span id="hint-span-1"></span>
						<span class="center-body-right-password-span">
							 长度在8-18之间
						 </span>
					</div>
					<div id="center-body-right-password-hint-span-2">
						<span id="hint-span-2"></span>
						<span class="center-body-right-password-span">
							 密码中不能包含连续的字母或数字
						 </span>
					</div>
					<div id="center-body-right-password-hint-span-3">
						<span id="hint-span-3"></span>
						<span class="center-body-right-password-span">
							 不允许包含中文和空格
						 </span>
					</div>
					<div id="center-body-right-password-hint-span-4">
						<span id="hint-span-4"></span>
						<span class="center-body-right-password-span">
							 密码中不能包含连续重复的字母或数字
						 </span>
					</div>

					<div id="center-body-right-password-hin-span-san"></div>
				</div>

				<div id="center-body-right-password-hint">
					<div id="center-body-right-password-hint-w"></div>
					<div id="center-body-right-password-hint-m"></div>
					<div id="center-body-right-password-hint-p"></div>
				</div>

				<div id="center-body-right-login">
					登录
				</div>
			</div>
		</div>

		<div id="sink">
			<div id="box">
				<div id="img-div-1">
					<img alt="" id="img-1" src="file/jd-1.png">
				</div>
				<div id="img-div-2">
					<img alt="" id="img-2" src="file/jd-2.png">
				</div>
				<div id="slide-div">
					<div id="slide-left"></div>
					<div id="slide-body">
						向右滑动完成拼图
					</div>
					<div id="slide-right"></div>
					<div class="slide-div-slide" id="slide-div-slide">
						<div class="div-left" id="div-left"></div>
						<div class="div-body" id="div-body"></div>
						<img alt="" class="img-slide" height="55" id="img-slide" src="file/jd-arrow.png">
					</div>
				</div>
			</div>
		</div>
	</div>

</div>
</body>
<script>
	window.onload = () => {
		let imgMove = document.getElementById("img-div-2")
		let divMove = document.getElementById("slide-div-slide")
		let imgSlide = document.getElementById("img-slide")
		let div_body = document.getElementById("div-body")
		let div_left = document.getElementById("div-left")

		let sink = document.getElementById("sink")

		imgSlide.onmousedown = event_1 => {
			let timer
			let x
			document.onmousemove = event_2 => {
				console.log(event_1.clientX);
				x = event_2.clientX - event_1.clientX
				x = x <= 0 ? 0 : x
				x = x >= 310 ? 310 : x
				divMove.style.width = x + "px"
				imgMove.style.left = x + "px"
			}

			document.onmouseup = function () {
				document.onmousemove = null
				document.onmouseup = null
				if (x >= 145 && x <= 155) {
					x = 0
					alert("恭喜你！登录成功")
					divMove.style.width = x + "px"
					imgMove.style.left = x + "px"
				} else {
					imgSlide.classList.add("error")
					div_left.classList.add("img-error")
					div_body.classList.add("img-error")
					timer = setTimeout(function () {
						x = 0
						divMove.style.width = x + "px"
						imgMove.style.left = x + "px"
						div_left.classList.remove("img-error")
						div_body.classList.remove("img-error")
						imgSlide.classList.remove("error")
					}, 500)
				}
			}
			clearTimeout(timer)
			return false
		}

		
		let top_btn_l = document.getElementById("center-left")
		let top_btn_r = document.getElementById("center-right")
		let show_l = document.getElementById('center-body-left')
		let show_r = document.getElementById('center-body-right')
		// 左右div切换
		top_btn_l.onclick = () => {
			top_btn_l.classList.add("center-top-switch")
			top_btn_r.classList.remove("center-top-switch")
			show_l.style.display = 'block'
			show_r.style.display = 'none'
		}
		top_btn_r.onclick = () => {
			top_btn_r.classList.add("center-top-switch")
			top_btn_l.classList.remove("center-top-switch")
			show_l.style.display = 'none'
			show_r.style.display = 'block'
		}
		
		
		let username = document.getElementById("center-body-right-username-input")
		let password = document.getElementById("center-body-right-password-input")
		let hint_span = document.getElementById("center-body-right-password-hint-span")
		let hint_span_san = document.getElementById("center-body-right-password-hin-span-san")
		let pw
		let hint = document.getElementById("center-body-right-password-hint")
		let hm = document.getElementById("center-body-right-password-hint-m")
		let hp = document.getElementById("center-body-right-password-hint-p")
		
		
		let hint_s_1 = document.getElementById("hint-span-1")
		let hint_s_2 = document.getElementById("hint-span-2")
		let hint_s_3 = document.getElementById("hint-span-3")
		let hint_s_4 = document.getElementById("hint-span-4")
		
		let hs1 = document.getElementById("center-body-right-password-hint-span-1")
		let hs2 = document.getElementById("center-body-right-password-hint-span-2")
		let hs3 = document.getElementById("center-body-right-password-hint-span-3")
		let hs4 = document.getElementById("center-body-right-password-hint-span-4")

		let s1 = true
		let s2 = true
		let s3 = true
		let s4 = true


		let login = document.getElementById("center-body-right-login")
		
		//	密码提示的出现和改变
		password.onfocus = function () {
			hint_span.style.width = '290px'
			hint_span.style.paddingLeft = '9px'
			hint_span.style.paddingTop = '9px'
			hint_span.style.height = '77px'
			hint_span_san.style.display = 'block'
			go()
		}
		password.onblur = function () {
			hint_span.style.width = '0'
			hint_span.style.paddingLeft = '0'
			hint_span.style.paddingTop = '0'
			hint_span.style.height = '0'
			hint_span_san.style.display = 'none'
			hint_s_1.innerText = ''
			hs1.style.color = 'white'
			hint_s_2.innerText = ''
			hs2.style.color = 'white'
			hint_s_3.innerText = ''
			hs3.style.color = 'white'
			hint_s_4.innerText = ''
			hs4.style.color = 'white'
		}
		password.oninput = go

//	密码强度的提示和改变
		function go() {
			pw = password.value
			// 密码强度
			if (pw.length > 0) {
				hint.style.display = 'block'
				let num = pass(pw)
				if (num === 1) {
					hm.style.display = 'none'
				} else if (num === 2) {
					hm.style.display = 'block'
					hp.style.display = 'none'
				} else if (num === 3) {
					hp.style.display = 'block'
				}

				// 密码长度
				if (pw.length >= 8 && pw.length <= 18) {
					hint_s_1.innerText = '√'
					hs1.style.color = 'white'
					s1 = true
				} else {
					hint_s_1.innerText = '×'
					hs1.style.color = 'red'
					s1 = false
				}

				//	不能存在连续的字母数字

				if (!/([a-zA-Z0-9])\1{3}/.test(pw)) {
					hint_s_4.innerText = '√'
					hs4.style.color = 'white'
					s2 = true
				} else {
					hint_s_4.innerText = '×'
					hs4.style.color = 'red'
					s2 = false
				}

				//	不能出现中文和空格
				if (!/[\u4e00-\u9fa5|\s]/.test(pw)) {
					hint_s_3.innerText = '√'
					hs3.style.color = 'white'
					s3 = true
				} else {
					hint_s_3.innerText = '×'
					hs3.style.color = 'red'
					s3 = false
				}
			} else {
				hint.style.display = 'none'
				hint_s_1.innerText = ''
				hs1.style.color = 'white'
				hint_s_2.innerText = ''
				hs2.style.color = 'white'
				hint_s_3.innerText = ''
				hs3.style.color = 'white'
				hint_s_4.innerText = ''
				hs4.style.color = 'white'
			}
		}
		
		/**
		 * 密码强度判断【1-3】
		 * @param str 指定字符串
		 * @returns {number} 密码强度
		 */
		const pass = str => {
			let num = 0
			if (/[1-9]/.test(str)) {
				num++
			}
			if (/[a-z|A-Z]/.test(str)) {
				num++
			}
			if (/[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、]/.test(str)) {
				num++
			}
			return num
		};

		
		//	眼的切换
		let password_eye = document.getElementById("center-body-right-password-eye")
		let eye_flag = true
		password_eye.onclick = function () {
			if (eye_flag) {
				password_eye.style.background = 'white url("file/open-eye.png") no-repeat 10px'
				password_eye.style.backgroundSize = '23px'
				password.type = "text"
				eye_flag = false
			} else {
				password_eye.style.background = 'white url("file/close-eye.png") no-repeat 10px'
				password_eye.style.backgroundSize = '23px'
				password.type = "password"
				eye_flag = true
			}
		}
		
		login.onclick = function () {
			if (username.value !== 'admin') {
				alert("用户名错误，禁止登录")
			} else if (pass(pw) === 1) {
				alert("密码强度过低,禁止登录")
			} else if (!s1 || !s2 || !s3 || !s4) {
				// }else if (false&&true){
				alert("你的密码有不正确选项，禁止登录")
			} else {

				sink.style.display = 'block'
			}
		}
	}
</script>
</html>