<!--
  ~ Date:2021/12/24 16:46 15
  ~ Name:始终获取鼠标位置-2.html
  ~ Path:Web代码/src/com/charlatan/practice/JavaScript
  ~ ProjectName:WWW
  ~ Author:charlatan
  ~
  ~  Il n'ya qu'un héroïsme au monde : c'est de voir le monde tel qu'il est et de l'aimer.
  -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>始终获取鼠标位置</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			list-style: none;
			font-size: 15px;
			text-decoration: none;
		}

		li {
			cursor: pointer;
		}

		/*-------以上为默认设置（The above is the default setting）--------*/

		#div1 {
			width: 30px;
			height: 140px;
			background-color: #c8e5bc;
			position: relative;
			top: 300px;
			left: 600px;
		}

		#div2 {
			width: 30px;
			height: 20px;
			background-color: #ffcb05;
		}


	</style>
</head>
<body>
<div id="div1">
	<div id="div2"></div>
</div>
</body>
<script>
	document.addEventListener ('mousemove', e => {
		const item = document.querySelectorAll ('#div1')

		const mouseX = e.clientX
		const mouseY = e.clientY

		item.forEach (sqr => {
			const sqrX = sqr.offsetLeft
			const sqrY = sqr.offsetTop

			const diffX = mouseX - sqrX
			const diffY = mouseY - sqrY

			const radians = Math.atan2 (diffY, diffX)

			const angle = radians * 180 / Math.PI

			sqr.style.transform = `rotate(${angle}deg)`
		})
	})
</script>
</html>
