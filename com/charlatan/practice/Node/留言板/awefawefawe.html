<!--
  ~ Time:2022/2/14 18:10 08
  ~ Name:awefawefawe.html
  ~ Path:Web代码/src/com/charlatan/practice/Node/留言板
  ~ ProjectName:WWW
  ~ Author:charlatan
  ~
  ~  Il n'ya qu'un héroïsme au monde : c'est de voir le monde tel qu'il est et de l'aimer.
  -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta content="IE=edge" http-equiv="X-UA-Compatible">
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
	<title>Title</title>

</head>
<!--<body>-->

<!--<label for="text">-->
<!--<textarea id="text" placeholder="测试内容">-->
<!--	<img src="file/music-bg.jpg" alt="">-->
<!--</textarea>-->
<!--</label>-->

<!--<div contenteditable="true">-->
<!--	我是内容的区域-->
<!--</div>-->
<!--<span id="div" contenteditable="true">-->
<!--	我是测试内容-->
<!--</span>-->

<div contenteditable="true"><img src="file/music-bg.jpg" alt=""></div>

<button type="button" id="btn1">按钮1</button>
<!--<button type="button" id="btn2">按钮2</button>-->
</body>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
<script>
	let text = $('#text')
	let btn1 = $('#btn1')
	let btn2 = $('#bnt2')
	let div = $('#div')

	let str1 = '111111111'
	let str2 = '222222222'

	// btn1.click(function () {
	// 	let num = text[0].selectionEnd
	// 	let value = text[0].value
	// 	value = value.slice(0, num) + str1 + value.slice(num)
	// 	console.log(value.slice(0, num))
	// })
	//
	// document.getElementById('btn2').onclick = function () {
	// 	console.log(div[0].innerText);
	// }

	let selection = window.getSelection()
	btn1.click(function () {
		console.log(selection)
		console.log(selection.focusOffset)
		console.log('起始点' + selection.anchorOffset)
		// console.log('指针在第' + (selection.anchorOffset - selection.focusOffset))
		// console.log(selection.rangeCount );
		// document.execCommand("insertHTML","false","<br/>")
	})
</script>
</html>
