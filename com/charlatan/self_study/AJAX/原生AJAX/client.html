<!--
  ~ Date:2021/12/27 17:35 24
  ~ Name:client.html
  ~ Path:Web代码/src/com/charlatan/self_study/AJAX/原生AJAX
  ~ ProjectName:WWW
  ~ Author:charlatan
  ~
  ~  Il n'ya qu'un héroïsme au monde : c'est de voir le monde tel qu'il est et de l'aimer.
  -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>client</title>
	<link crossorigin="anonymous" href="https://cdn.bootcss.com/twitter-bootstrap/3.3.7/css/bootstrap.css"
	      rel="stylesheet">

</head>
<body>
<div class="container">
	<h2 class="page-header">jQuery发送AJAX请求 </h2>
	<button class="btn btn-primary">GET</button>
	<button class="btn btn-danger">POST</button>
	<button class="btn btn-info">通用型方法ajax</button>
</div>
</body>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
<script>
	let btn = $('button')

	btn.eq(0).click(function () {
		// 第一个参数是给谁发，第二个是发送的参数，第三个参数是回调函数，第四个参数是响应体类型
		$.get('http://127.0.0.1:8000/jquery-server', { a: 100, b: 200, c: 300 }, function (data) {
			console.log(data)
		}, 'json')
	})

	btn.eq(1).click(function () {
		$.get('http://127.0.0.1:8000/jquery-server', { a: 200, b: 100 }, function (data) {
			console.log(data)
		}, 'json')
	})

	btn.eq(2).click(function () {
		// 参数是一个对象，这是通用方式
		$.ajax({
			// url
			url: 'http://127.0.0.1:8000/jquery-server',
			// 参数
			data: { a: 200, b: 400 },
			// 请求类型
			type: 'GET',
			//响应体结果
			dataType: 'json',
			// 成功地回调
			success: function (data) {
				console.log(data)
			},
			// 超时时间:2000
			timeout: 2000,
			// 失败的回调
			error: function () {
				console.log('服务器异常')
			},
			// 响应头设置
			header: {
				c: 300,
				d: 900,
			},
		})
	})
</script>
</html>
