<!--
  ~ Date:2021/12/17 9:49 03
  ~ Name:1、filter().html
  ~ Path:Web代码/src/com/charlatan/self_study/me/JavaScript/JsBase/数组
  ~ ProjectName:WWW
  ~ Author:charlatan
  ~
  ~  Il n'ya qu'un héroïsme au monde : c'est de voir le monde tel qu'il est et de l'aimer.
  -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>filter()</title>

</head>
<body>
<pre>
	filter用于对数组进行过滤。
	它创建一个新数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。

		语法：
	Array.filter(function(currentValue, indedx, arr), thisValue)

	其中，函数 function 为必须，数组中的每个元素都会执行这个函数。且如果返回值为 true，则该元素被保留；
	函数的第一个参数 currentValue 也为必须，代表当前元素的值。

	注意： filter() 不会对空数组进行检测。
	注意： filter() 不会改变原始数组。

	简单讲filter就是一个数组过滤器，参数接收一个函数，数组的每一项经过函数过滤，返回一个符合过滤条件的新数组
	函数接收三个参数：
		item （当前遍历的数组项）
		i （当前项索引）
		arr （调用filter数组本身）


	filter()
	filter() 中的回调函数有一个要求，必须返回一个boolean值！
	true() 当返回true时，函数内部会自动将这次回调的n加入到新的数组当中
	false() 当返回的false时，函数内部会过滤掉这次的n、
</pre>
</body>
<script>

	let nums = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

	let res = nums.filter ((num) => {
		return num > 5
	})

	console.log (res)  // [6, 7, 8, 9, 10]
	console.log ('------------------------------')
	console.log (nums)

	let num1 = nums.filter (num => num < 10)
	console.log (num1)

	console.log (typeof {})
	console.log (typeof [])

	let arrObj1 = [
		{
			name: 'aa', age: 13,
		}, {
			name: 'bb', age: 23,
		}, {
			name: 'cc', age: 18,
		}, {
			name: 'dd', age: 11,
		}, {
			name: 'ee', age: 28,
		},
	]
	let arrObjFilter1 = arrObj1.filter (ele => ele.age > 18)
	console.log (arrObjFilter1) // [{name: 'bb', age: 23}, {name: 'ee', age: 28}]

	// 进阶用法
	// 数组去重（有点过时）

	let arr1 = [1, 2, 3, 2, 3, 4]
	let arrFilter2 = arr1.filter ((ele, index, arr) => {
		return arr.indexOf (ele) === index
	})
	console.log (arrFIlter)
	// 目前比较常用的方法是使用ES6的set完成，eg：

	let arr2 = [1, 2, 3, 2, 3, 4]
	let arrFilter3 = [...new Set (arr2)]
	console.log (arrFilter3)
	// 数组中的空字符去除

	let arr = ['1', '2', '3', '', null, undefined, '  ', '4']
	let arrFilter = arr.filter ((ele, index, arr) => {
		return ele && ele.trim ()
	})
	console.log (arrFIlter)
	// 高级用法
	// 结合map使用可以先过滤出符合条件的对象然后去除某些不需要的字段,比如:

	// 需求: 年龄大于18的姓名
	let arrObj = [
		{
			name: 'aa', age: 13,
		}, {
			name: 'bb', age: 23,
		}, {
			name: 'cc', age: 18,
		}, {
			name: 'dd', age: 11,
		}, {
			name: 'ee', age: 28,
		},
	]
	let arrObjFilter = arrObj.filter (ele => ele.age > 18).map (ele => {
		return ele.name
	})
	console.log (arrObjFilter) // ['bb', 'ee']


</script>
</html>
