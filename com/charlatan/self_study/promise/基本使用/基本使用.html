<!--
  ~ Time:2022/2/28 15:34 15
  ~ Name:基本使用.html
  ~ Path:Web代码/src/com/charlatan/self_study/promise/基本使用
  ~ ProjectName:WWW
  ~ Author:charlatan
  ~
  ~  Il n'ya qu'un héroïsme au monde : c'est de voir le monde tel qu'il est et de l'aimer.
  -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta content="IE=edge" http-equiv="X-UA-Compatible">
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
	<title>基本使用</title>

</head>
<body>
<button id="btn">按钮</button>
</body>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
<script>
	let btn = $('#btn')
	btn.click(function () {
		// setTimeout(function () {
		// 	if (num) {
		// 		console.log('111')
		// 	} else {
		// 		console.log('222')
		// 	}
		// }, 1000)

		let per = new Promise((resolve, reject) => {
			setTimeout(() => {
				let num = Math.floor(Math.random() * 2)
				if (num) {
					// 将promise的状态改为成功【这里也可以传递参数】
					resolve(num)
				} else {
					// 将promise的状态改为失败
					reject(num)
				}
			})
		})

		per.then((value) => {
			console.log('1111')
			console.log(value)
		}, (value) => {
			console.log('2222')
			console.log(value)
		})
	})

</script>
</html>
