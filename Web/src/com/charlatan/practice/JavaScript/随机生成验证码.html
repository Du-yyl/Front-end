<!--
  ~ Date:2021/11/30 下午7:43
  ~ Name:随机生成验证码.html
  ~ Path:D:/WWW/Web代码/src/com/charlatan/self_study/me/practice/JavaScript/随机生成验证码.html
  ~ Project:Web代码
  ~
  ~  Il n'ya qu'un héroïsme au monde : c'est de voir le monde tel qu'il est et de l'aimer.
  -->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>随机生成验证码</title>
	<style>
		#box {
			width: 400px;
			height: 100px;
			position: absolute;
			/*background-color: #877a7a;*/
			left: calc(50% - 200px);
			top: calc(10% - 50px);
		}

		#text {
			position: absolute;
			left: 10px;
			top: 30px;
			height: 30px;
			border-radius: 5px;
		}

		#span {
			width: 100px;
			height: 40px;
			background-color: #4e4848;
			position: absolute;
			left: 190px;
			top: 28px;
			border-radius: 5px;
			color: whitesmoke;
			line-height: 40px;
			text-align: center;
			font-size: 20px;
			font-weight: 900;
		}

		#btn1 {
			position: absolute;
			left: 300px;
			top: 33px;
			height: 30px;
			width: 50px;
			border-radius: 5px;
		}

	</style>
</head>
<body>
<div id="box">
	<label for="text">
		<input id="text" placeholder="请输入验证码" type="text">
	</label>
	<div id="span" onselectstart="return false">
		这是测试
	</div>
	<input id="btn1" type="button" value="验证">
</div>
<script>
	/*
	 1.禁止选取、防止复制
	 <body onselectstart="return false">
	 2.禁止粘贴
	 οnpaste="return false"
	 3.禁止复制和剪切
	 οncοpy="return false;" oncut="return false;"
	 * */
	window.onload = function () {
		let text = document.getElementById('text')
		let span = document.getElementById('span')
		let btn1 = document.getElementById('btn1')
		let ans = ''
		let numsAns = new Array(4)

		let randoms = [
			0,
			1,
			2,
			3,
			4,
			5,
			6,
			7,
			8,
			9,
			'A',
			'B',
			'C',
			'D',
			'E',
			'F',
			'G',
			'H',
			'I',
			'J',
			'K',
			'L',
			'M',
			'N',
			'O',
			'P',
			'Q',
			'R',
			'S',
			'T',
			'U',
			'V',
			'W',
			'X',
			'Y',
			'Z',
		]

		//    产生随机字母
		for (let i = 0; i < numsAns.length; i++) {
			let ans1 = Math.floor(Math.random() * randoms.length)
			ans += randoms[ans1]
		}
		span.innerText = ans
		btn1.onclick = function () {
			if (text.value.length !== 4) {
				alert('输入的长度违法，请确认后重新输入')
				text.value = ''
				return
			}
			if (text.value !== ans) {
				alert('你的输入错误，请确认后重新输入')
				text.value = ''
				return
			}
			if (text.value === ans) {
				alert('恭喜你！通过测试！')
			}
		}
	}


</script>
</body>
</html>
